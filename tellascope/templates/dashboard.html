{% extends "base.html" %}


{% block content %}
	<div id = "searchBar">
		{% for field in form %}
		<form>
		    <div class="field-wrapper {% if field.errors%} field-error {% endif %}">
		        {{ field }}
		    </div>
		</form>
		{% endfor %}
	</div>
	<div class="filter-form">
		<form action="" method="get">
	        {{ filter.form.as_p }}
	        <input type="submit" />
	    </form>
	</div>
	<!-- <div id = "fsBar">
		<div id = "filterBar">
			<i class="fa fa-filter"></i>&nbsp;
			<select data-placeholder="Filter by..." id = "filter-select" multiple>
				<option value = "unread">Unread</option>
				<optgroup label="Time">
					<option value = "0-15">0-15 minutes</option>
					<option value = "15-30">16-30 minutes</option>
					<option value = "30-60 minutes">30-60 minutes</option>
					<option value = "60+">60+ minutes</option>
				</optgroup>
			</select>
		</div>
		<div id = "sortBar">
			<div id = "sortRight">
				<span id = "sort-text">Sort By&nbsp;</span>
				<select id = "sort-select">
					<option value = "datePosted">Date posted</option>
					<option value = "sharesTellascope">Shares on Tellascope</option>
					<option value = "sharesFriends">Shares from friends</option>
					<option value = "readingFriends">Friends reading</option>
				</select>
			</div>
		</div>
	</div> -->

	<div class="main">
			<ul id="og-grid" class="og-grid">
				{% for uar in object_list %}
				{% with uar.article as article %}
				<li>
					<a href="{{ article.url }}" target="_blank" data-largesrc="../static/img/1.jpg" data-title="{{ article.title }}" data-description="{% for tag in article.tags.all %}
                                <span class='article-tag'>{{ tag }}</span>
                            {% endfor %}{% for author in article.authors.all %}<p id='article-sharedby'>{{ author }}</p>{% endfor %}<p id='article-excerpt'>{{ article.excerpt }}</p>" data-comments="<p id='article-sharedby'>Shared by {{ article.share_count }} people you follow</p><div class='user-comment'><p class='article-comment'><i class='flaticon-user65'></i><span>Thought-provoking read!</span></p><p class='article-comment'><i class='flaticon-user65'></i><span>Killer passages!</span></p><p class='article-comment'><i class='flaticon-user65'></i><span>Insightful, incisive writing</span></p></div>">
						<div class="article-element">
							<h1>{{ article.title|truncatechars:50 }}</h1>
							{% for author in article.authors.all %}
							<p>{{ author }}</p>
							{% endfor %}
							<i id = "{{ article.pocket_resolved_id }}" class="fa fa-share"></i>
							<p id="article-source">{{ article.read_time }} minute read</p>
						</div>
					</a>
				</li>
				<div class="remodal" data-remodal-id="{{ article.pocket_resolved_id }}">
					<div class = "remodal-body">
					    <h1>{{ article.title }}</h1>
					    <h2>
					    {% for author in article.authors.all %}
						{{ author }}
						{% endfor %}
						</h2>
						<p>{{ article.excerpt }}
					    <br>
					   	<p>Comment</p>
					   	<textarea rows = "3" class = "uarComment"></textarea>
					</div>
					<div class = "remodal-footer">
					    <a class="remodal-cancel" href="#">Cancel</a>
					    <a class="remodal-confirm" href="#">Share</a>
					</div>
				</div>
				{% endwith %}
				{% endfor %}
			</ul>
		</div>

		<script src="../static/js/lib/results-preview/grid.js"></script>
		<script type="text/javascript">
			$("#filter-select").chosen();
			$("#sort-select").chosen({disable_search_threshold: 10});
			$('#id_tags').tagsInput({
			  'width':'80%',
			  'height':'40px'
			});
			$(function() {
					Grid.init();
			});
			$( document ).ready(function() {
				$('#id_tags_tag').focus();
			});
		</script>

{% endblock %}