{% load endless %}

{% paginate 50 object_list %}
{% for article in object_list %}
	
	<li id="uar-{{ article.pk }}" class="grid-item public" >
		<a class="expand-preview" href="{{ article.url }}" target="_blank" data-largesrc="../static/img/1.jpg" data-title="{{ article.title }}" data-description="{% for tag in article.tags.all %}
            <span class='article-tag'>{{ tag }}</span>
        {% endfor %}{% for author in article.authors.all %}<p id='article-sharedby'>{{ author }}</p>{% endfor %}<p id='article-excerpt'>{{ article.excerpt }}</p>" data-comments="<p id='article-sharedby'>Shared by {{ article.share_count }} people you follow</p><div class='user-comment'>{% for comment in article.get_comments %}<p class='article-comment'><span>{{ comment.text }}</span><br /><span class='author-comment'>- {{ comment.user }}</span></p>{% endfor %}</div>">
		<div class="article-element">
			<div class="article-content">
				<h1>{{ article.title|truncatechars:50 }}</h1>
				{% for author in article.authors.all %}
				<p>{{ author }}</p>
				{% endfor %}
			</div>
			<div class="article-element-footer">
				<div class="footer-container">
					<p class="open-share-button" data-item-id='{{ article.pk }}'><i class="fa fa-share"></i></p>
					<p id="article-source">{{ article.read_time }} minute read</p>
				</div>
			</div>
			<div class="article-share-container">
				<p>Share <em>{{ article.title|truncatechars:50 }}</em> on Tellascope.<i class="fa fa-close"></i></p>
				<form class="share-article" id="form-{{ article.pk }}" data-item-id='{{ user.pk }}'>
					{% csrf_token %}
					<input type="hidden" name="user_id" value="{{ user.pk }}">
					<input type="hidden" name="item_id" value="{{ user.pk }}">
					<div class="textarea-wrapper">
						<textarea name="comment" form="form-{{ user.pk }}" placeholder="Why is this interesting?"></textarea>
					</div>
					<input type="submit" value="submit"/>
				</form>
				<p class="close-share-container" data-item-id='{{ user.pk }}'></p>
			</div>
		</div>
	</a>
</li>

{% endfor %}
{% show_more %}